# PyCon_JP_2025参加メモ
# 1日目(9/26)
# 【招待講演】PEP 750 の共同著者 青野高大 氏による Python3.14の新機能の紹介
- フェニックスホール
- 日本語
- 10:30 - 11:00
- 青野　高大
## 講演資料[(https://github.com/koxudaxi/pyconjp_2025.git)](https://github.com/koxudaxi/pyconjp_2025.git)
## Python 3.14 には新機能 t-strings（Template Strings）が導入されます。青野さんは、この仕様をまとめた PEP 750 の共同著者です。
Python 3.14 の最終リリースは 2025 年 10 月に予定されています。青野さんは、OpenAPI／JSON Schema から型安全なコードを生成する datamodel-code-generator や、Ruff・Pydantic 向けの PyCharm プラグイン など、現場で役立つ OSS を数多く開発されています。PyCon US や EuroPython など国際カンファレンスでの登壇実績も豊富です。
Python の文字列機能は、% 演算子、str.format()、f-strings と発展してきました。次の一歩となる t-strings が、あるいは将来の Python が、どんな世界を作ろうとしているのか。私自身もお話を伺うのを楽しみにしています。どうぞご期待ください。
## 個人メモ
- 25/10/7リリース
- 19個新しい機能あり
- 型のアノテーション遅延評価がデフォルトになった（PEP649）
  - 関連して（PEP749）でAPIを提供。
  - 従来の型整理のAPIとか利用していたら動作確認した方が良い
- GIL撤廃構成の正式サポート（PEP797）
- 最近リリースしたサブインタプリタ用のAPIが無かったので作成した（PEP???)
- Tsil-calling Interpreter（実験的なもの。他の言語でも使用しているから、速度が向上するだろうと採用）
- リモートデバッグ接続の安全化(PEP768)
- JIT（実験的な物。高速になる時もならない時もある）
- コードの視認性を向上（配色とか）

- 文字列フォーマットの進化
  - "%s"
  - "
  - f
  - 【例1】理由：SQLやHTMLに値を直埋めすると、SQLインジェクション対策⇒f-string（危険）
    - 安全：t-string + psycopg3：安全なSQLオブジェクトへ変換
  - 【例2】手動エスケープ
    - 安全：
  - 【例3】構造化ログのユースケース
    - 式テキストとフォーマットが残る
  - 【例4】テンプレートの応用：メール通知・設定
  - 内部構造：
    - f-string：即時文字化
    - t-string：一度テンプレート化（コンテナ）。連結は、テンプレート＋Templateのみ：セキュリティ的な理由から。
  - テンプレート自体は何もしない、後でコンテナとして活用できる。
    - 遅延評価すると、かなり複雑になるため、Pythonユーザーの属性（初心者多い）を考えて、即時反映にした。

- まとめ
- セキュリティ：SQLインジェクションやXSSを防止

# Pythonic Finance: Analyze Company Fundamentals with SEC EDGAR APIs(Python ファイナンス: SEC EDGAR API で企業の基礎情報を分析)
- ダリア2
- 初級
- 英語
- 11:15 - 11:45
## Pythonと定量分析を用いて、米国証券取引委員会（SEC）EDGARシステムのファンダメンタル財務データにアクセスし、検証・分析します。SECのJSON APIは、財務報告の国際標準であるeXtensible Business Reporting Language（XBRL）で報告された企業提出書類から抽出された構造化された財務データを提供します。堅牢なデータ検証にはPydanticが用いられます。
参加者は、XBRL 言語の概要、SEC EDGAR の API からデータを取得するための実践的なテクニックcompanyfacts、データ サイエンスとソフトウェア エンジニアリングを組み合わせて Pydantic でデータを検証する方法、API 応答から重要な基本指標を抽出する方法、基本的な財務比率を計算する方法、財務トレンドを視覚化する方法について学習し、国際的な公開財務データ API の操作の詳細について学ぶことができます。
##プレゼンテーションの予定概要：

はじめにと免責事項（約3分）
簡単な自己紹介と重要な免責事項：私はファイナンシャルアドバイザーではなく、この講演はファイナンシャルアドバイスではありません
なぜ Python で企業の基礎を分析するのでしょうか?
データ: SEC EDGAR、XBRL、API (約 4 分)
SEC、EDGAR システム、米国企業の提出書類 (10-K) の概要
構造化データ標準としてのXBRLの簡単な紹介
companyfactsXBRL由来のデータのためのJSON APIに焦点を当てる
実例：Pydantic によるデータ品質の確保（約 3 分）
Pydantic を選ぶ理由と API レスポンスの Pydantic モデルの概要
企業データの取得と検証（約3分）
と を使用してrequests、pydanticサンプルの米国企業のデータを取得および検証します。
潜在的なAPIまたは検証の問題に対処する
財務指標の説明と抽出（約7分）
基本的な中核財務指標の説明: Revenue、、、、、Net IncomeAssetsLiabilitiesEquity
年間データの抽出、データを表示するためのpandasの構築DataFrame
同じ財務概念に対して異なるXBRLタグ（異なる派生JSONプロパティ）を適用すると、企業は同じスキーマを持たない可能性がある。
財務比率の計算（約3分）
財務比率の説明: Net Profit Margin、Debt to Equity Ratio
指標の計算
トレンドの視覚化（約2分）
指標と計算から、プロットを生成して表示するmatplotlib/seaborn
国際化とデータのニュアンス（約2分）
他の国（例：日本EDINET）は異なるシステムを持っていますが、同じXBRLデータ構造を持ち、スキルと知識が移転可能であることを証明します。
主なポイント、要約、まとめ（約2分）
プロセス、ツール、将来の探究に向けた提案の概要
## 個人メモ
- 10Kレポートと20Kレポートがある。
- どちらも年次報告書
- 10Kは、アメリカ企業に提供義務あり。会社向け

- Company Facts API　困難
- 普通の財務用語説明
- WEBスクレイピング

- Google Colab使用
- jsonデータ（API)⇒表に変換⇒グラフ化
  - これなら、私も発表できそう。

# ReactPyを使ってreact likeにUIをPythonで実装する
- ダリア1
- 中級
- 日本語
- 12:00 - 12:30
- モノタロウ勤務
## 1. ReactPyとは何か？
「フロントエンド苦手だけど、こんなのあったら便利だよね」な話
JavaScript書かずにReactっぽいことがPythonでできる
HTMLテンプレートよりもっと柔軟にUIが作れる
ReactPyの特徴を簡単に紹介
Reactのコンポーネント思想をPythonで実現
Python慣れしている人には親しみやすい書き方
2. ReactPyの強みとフロントエンド構築ツールとしての位置づけ
ReactPyの独自の強み
既存のWebアプリケーションに自然に組み込める
Pythonの豊富なライブラリエコシステムとの親和性
ReactPyの技術的特徴
Virtual DOM的な仕組み
状態管理の仕組み
3. ReactPyの導入方法と実践活用
ReactPy単体での使用方法
FastAPI、Flaskなど様々なバックエンドとの組み合わせ
新規プロジェクトでの始め方
既存プロジェクトへの導入パターン
段階的導入戦略（一部のページから始める）
reactpy-djangoを使った既存Djangoプロジェクトでの活用例
実装デモとコード例
従来のHTMLテンプレートとの比較
ReactPyで実装した動的コンポーネントの例

## 個人メモ
- モノタロウ：Reactによる画面開発（ReactPyは、使用してない）。AI工藤開発も積極的にやっている。
- ReactPy：UI構築ツール
  - 他にもStreamlit、Dash、Gradio、Panelと同じ立ち位置
  - PythonでReactのように使用する
  - コンポーネント定義を組み合わせて、画面構築する
  - 実行自体は、Pythonをそのまま実行
  - いくつかバックエンドが採用されていて、それで動く
  - 【メリット】学習コスト削減：JavaScript/TypeScript/等
     - 既存のWebAPIと統合しやすい
     - FastAPI等サポートしている
     - 既存のWebページへの埋め込みが可能
     - JupyterやPlotly-Dashとの公式統合：データサイエンス分野での活用が明確に意図されている
     - サーバーサイドアーキテクチャ：全ての処理がサーバーで実行される（状態管理：画面遷移が簡単にコントロール可能）
       - Pythonエコシステムの直接活用
       - デメリットは、全てサーバーに集中するので、遅くなる
         - VDOM実装：差分だけを
     - WebSocket通信による同期（リアルタイムで同期される）
     - asyncio基盤の非同期処理
     - 統一された状態管理：フロントエンドとバックエンドで状態の分離がない
       
- 【活用例】データ分析ダッシュボード、
- 既存プロジェクトに導入する場合
  - 例：DjangoアプリにReactPyを導入するためのツール
    
   
     - サーバーサイド実行の利点
  
- コンポーネント思想：再利用可能な部品：UIを独立した部品（コンポーネント）として設計
- 関心の分離：各コンポーネントが独自の状態とロジックを持つ
- 組み合わせによる構築：小さなコンポーネントを組み合わせる

- Pythonらしい書き方：コンポーネント宣言は
- 繰り返し処理はｍリスト内包
- スタイルの指定にPythonの辞書を利用できます（Tail？？も使用できる）

# 明日からgraphlib、みんなで使おう
- ダリア2
- 中級
- 日本語
- 13:30 - 14:00
- 東京ガスの人（Goldスポンサー企業）・オライリージャパンの翻訳や監修者
## 講演資料
## 導入
Python 3.9で標準ライブラリにgraphlibが追加されました。
しかし、公式ドキュメントにはgraphlibが導入されたモチベーションや利用例に乏しく、すでにトポロジカルソートの存在を知っている人しか使えないライブラリになっています。
結局、graphlibは何に使えるのか、電池が液漏れする前に（なるべく）すべて解説します。

グラフ理論速習
graphとは数学のグラフ理論におけるグラフを意味します。
グラフとは（大雑把に説明すれば）物事とその関係性を数学的にモデル化したものであり、鉄道網における駅と線路、人間関係における人間と友人関係など、日常生活においてグラフでモデル化できるものはたくさんあります。

グラフとは
無向グラフと有向グラフ（今回扱うのは有向グラフ）
線型順序について（半順序関係、全順序関係）
トポロジカルソート、有向非巡回グラフ（DAG）について
任意のグラフがトポロジカルソートできるわけではありません。
グラフが有向非巡回グラフであることと、グラフがトポロジカルソート可能であることは同義であることを説明します。

有向非巡回グラフの定義
トポロジカルソートの定義
グラフが有向非巡回グラフであることと、グラフがトポロジカルソート可能であることは同義
graphlibの使い方
ここまで理解できれば、明日からgraphlibを使えるようになります。
少なくとも、頭の片隅にgraphlibが入り、必要になった瞬間に思い出せるようになります。

graphlibの使い方
応用例: タスクの処理（タスク処理順序の決定、簡易的なタスクランナーの実装）
## 個人メモ
- （ぐらふぃりぶ）読み
- トポロジカルソート：有向非巡回グラフ：G＝(V,E）。閉路を含まない物。
  - 二項関係：
  - 半順序関係：反射率、反対称率、
  - 線型順序
  - 歩道：グラフG＝(V,E)の頂点からへの長さの
  - 道：グラフGの歩道W。特に閉じた道を「閉路」と言う。
    - いい感じに言うと、有向グラフの頂点をいい感じに順序付けしたもの
  
- グラフ定義：無向グラフ（非順序対）・有向グラフ（順序対）
  - 「関係」を数学的にモデル化したもの
  - 「もの」は、人間、駅、タスク、サーバー
  - 「関係」は、人間関係、線路、依存関係

- 命題（トポロジカルソート可能）：有向グラフGが
  - 有向非巡回グラフ（必要十分条件）⇒トポロジカルソート可能　※証明がアルゴリズムになっていることに注意

- 活用例
  - タスク順序
 
- garphlib：トポロジカルソートが実装された標準ライブラリ
  - 簡易的に利用すると、実行順序を決定する仕組みとして使える
  - タスクランナー：並列実行しやすいアルゴリズム
  - 最適解とは、別問題！？最適解にするには、また別の仕組みが必要

# Beyond Multiprocessing: A Real-World ML Workload Speedup with Python 3.13+ Free-Threading(マルチプロセスを超えて: Python 3.13+ のフリースレッドによる実際の ML ワークロードの高速化)
- ラン
- 中級
- 英語
- 14:15 - 14:45
## PyCon JP 2024では、実験的なフリースレッドモードの素晴らしい導入を目にしました。あれから1年が経ちましたが、実際にこのモードを使って実世界の問題を解決した人はどれくらいいるでしょうか？マルチプロセスのシリアル化ボトルネックに既に悩まされている方、あるいはデータ量の多いタスクが思ったほど速くないことに不満を感じている方、この講演はまさにうってつけです。

風景は変化している
Python 3.13 でのフリースレッドの初期リリースでは、シングルスレッドパフォーマンスのトレードオフが知られていましたが、状況は変化しています。この問題を軽減し、並列ワークロードにおいてフリースレッドをこれまで以上に強力で現実的な選択肢にする Python 3.14 の重要な改善点について詳しく説明します。

理論から実戦で実証されたプレイブックへ
このセッションでは、コアコンセプトから実際のアプリケーションまで、実践で実証されたプレイブックをご紹介します。データ集約型研究分野を加速させるためのオープンソースフレームワークの開発経験を活かし、以下の点について解説します。

フリースレッディングの「なぜ」と「どうやって」：まず、Pythonの新しい並列実行モデルの基礎を理解しましょう。マルチプロセス処理がデータ集約型のタスクで苦労する理由と、フリースレッディングがどのようにして洗練された組み込みソリューションを提供するのかを説明します。

ハードデータを用いた実世界のケーススタディ：次に、 Federated Learningの実世界プロジェクトを詳しく見ていきます。フリースレッディングによって重大なパフォーマンスボトルネックが解消されました。ベンチマークでは、マルチプロセスやRayのような既存のフレームワークと比較して、フリースレッディングの劇的なスループット向上が示されています。

ライブリファクタリングとベストプラクティス：最後に、ライブデモで、低速なデータパイプラインが高性能アプリケーションへと変貌していく様子をご覧ください。実践的なプレイブックと、競合状態などのよくある落とし穴を回避しながら、これらのテクニックを自信を持って適用できるようになります。

この強力な新しいPython が要求の厳しい ML ワークロードとどのように統合され、新しいレベルのパフォーマンスを実現し、コードを真に強化できるかを一緒に見ていきましょう。

## 個人メモ
英語と内容の難しさで分からん。
GILの事

# Django NinjaによるAPI開発の効率化とリプレースの実践
- ラン
- 中級
- 日本語
- 15:00 - 15:30
- Be PROUD社　connpass・PyQ・の開発・運営している人：全てDjango使用している
## 発表の構成（予定）
はじめに

自己紹介・会社紹介
発表の背景とゴール
想定する聞き手
Django Ninjaとは何か

Django REST frameworkやFastAPIとの比較
Django Ninjaの特徴（型ヒント、OpenAPI連携、FastAPI互換の設計思想など）
なぜDjango Ninjaを選んだのか

比較検討した選択肢（独自実装・DRF・FastAPIなど）
パフォーマンス、学習コスト、開発効率、保守性の観点からの選定理由
Django Ninjaを用いた実践例

型ヒントで定義するリクエスト・レスポンススキーマ
自動生成されるOpenAPIドキュメントの活用
認証・認可（API Key, JWT など）の実装方法
スロットリングやページネーションの設計
テスト戦略（ユニット・統合テスト）
段階的なリプレース戦略

既存の独自実装との共存
互換性維持の工夫
移行計画と影響範囲のコントロール
まとめとQ&A

得られた効果と課題
今後の展望（型安全な開発・APIクライアント自動生成など）

## 個人メモ
- 過去django-piston⇒独自実装（サポート切れで）⇒文脈負債
- 要件：型＝ドキュメントの一元管理＆自動化
  - 既存Djangoアプリに最小の影響で導入
  - V1とV2の共存
- django-ninjaの選定理由
  - FastAPIに強く影響を受けたDjangoのREST API
- 【比較】
  - FastAPI
    - メリット：高速でシンプル
    - 一貫した非同期実行が可能（DB接続含む）
    - 型ヒント（Pydantic）を活用したデータ検証＆整形
    - デメリット：Djangoとの親和性が低い
    - ひと手間必要
  - DRF
    - メリット
    - RESTのリソースとDjango Modelが1対1の場合、CRUDを作るのが簡単
    - デメリット：フレームワークが想定していない使い方をすると実装が複雑化する
    - 型ヒント活用が標準では弱い
    - ドキュメントを充実させるためには記述が膨れていく

  - django-ninjaの主要機能
  - OpenAPIドキュメントの自動生成
    - 実装とドキュメントをSqagger UI
    - スキーマ定義を充実させてOpenAPIドキュメントと連携（動いているコードがそのままドキュメント化可能）
      - 開発の動作確認で使いやすい
    - SwafferUIとRedocの使い分け
  - API開発・認証がしやすい
  - ページネーション
  - スロットリング（最近v1.2.0で同梱された）・IPやユーザー単位で使い分け可能
  - モジュール分割（Routerを活用）
    - APIを追加するには、各アプリの
    - NinjaAPIクラスの代わりにRouterを使用
    - 全Routerをimportし、メインのNinjaAPIに取り込む
  - APIのバージョン管理
  - 例外ハンドリング
  - デコレーターの活用
  - CORS対応
  - Appendix：クラスベースでの対応：サードパーティ活用で対応可能
- テスト方法
  - 個人的には、PyTest +
- 懸念事項
  - コミュニティ成熟度（若い）
    - Ninja自体のサードパーティは少ないが、必要な機能は揃っていた
    - 依存しすぎない。
- 移行方法
- 副次的な効果
  - ファットコントローラー気味⇒ビジネスロジックの呼び出しがすっきり
- 結果：開発効率が上がり、


# コーヒーブレイク & ポスターセッション
- サクラ
- 15:30 - 16:15

# OSS≒盆栽 〜個人的趣味として無理なくOSS開発をするときに意識したいこと〜
- ダリア1
- 中級
- 日本語
- 16:15 - 16:45
## 予定アウトライン
自己紹介
「OSS≒盆栽」とは？
Pythonライブラリにおける利用者規模
個人的活動でOSS開発をするということ
無理をしないための考え方
(下記は予定している一部)
多くの人が使うことを想定しない
機械的に行えることは機械的に
sphinx-revealjsによる事例
プロダクトソースコード上の変化
開発する基盤に起きた変化
周囲にある環境で起こっていた変化

# Day 1 Lightning Talks:皆さんから募集するライトニング・トーク (略してLT。5分以内の短い講演)
- フェニックスホール
- 17:00 - 17:45

# 【Day 1 Keynote】　Sebastián Ramírez 氏 Behind the scenes of FastAPI and friends for developers and builders(Sebastián Ramírez 氏 開発者とビルダーのためのFastAPIとその仲間の舞台裏)
- フェニックスホール
- 17:55 - 18:55
## FastAPI作者 Sebastián Ramírez 氏のキーノート / 同時通訳あり
