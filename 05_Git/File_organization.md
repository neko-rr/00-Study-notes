# ファイル整理
例：Cursorが乱立させたファイルの整理
# import文の調査
- `grep`コマンドなどでimport文を調べるのは有効な手段です。
- 具体的には、プロジェクトのルートディレクトリで以下のコマンドを実行します。
- このコマンドは、プロジェクト内の全てのファイルから"import"という文字列を検索し、どのファイルがどのモジュールをimportしているかを表示します。
- この結果を元に、どのファイルが他のファイルから参照されているかを把握できます。
- もし、どのファイルからもimportされていないファイルがあれば、それは不要なファイルである可能性が高いです。
- ただし、HTMLファイルやCSSファイルなど、import文を使わないファイルもあるので、注意が必要です。
## ターミナルの種類と対応していない
Windows PowerShell では grep コマンドは使えません。grep は Linux/Unix 系のコマンドだからです。
⇒種類を「Bash」に変更してから実行！
```bash
grep -r "import" .
```
# 依存関係の可視化
- より高度な方法として、依存関係を可視化するツールを使うこともできます。
- 例えば、`pyreverse`というツールを使うと、Pythonのコードからクラス図を生成できます。
  - 参考: [https://pylint.readthedocs.io/en/latest/pyreverse.html](https://pylint.readthedocs.io/en/latest/pyreverse.html)
  - このツールを使うことで、ファイル間の依存関係を視覚的に把握し、どのファイルが他のファイルから参照されているかを簡単に確認できます。
  - [https://progzakki.sanachan.com/program-lang/python/how-to-generate-image-of-class-structure/](https://progzakki.sanachan.com/program-lang/python/how-to-generate-image-of-class-structure/)
- ※ページ遷移図は、作れない模様
# ログファイルの確認
- ログファイルを確認することで、どのファイルが実際に使用されているかを把握できます。
- 特に、エラーログを確認することで、存在しないファイルをimportしようとしている箇所を見つけられるかもしれません。
- Web系なら webpack, vite, parcel などのビルドツールが「どのファイルを使っているか」をログに出します。
- Pythonなら pytest や logging を使って「どのモジュールが読み込まれたか」を確認できます。
# 設定ファイルの整理
- dockerの設定ファイルがたくさんあるとのことですが、まずはどの設定ファイルが実際に使用されているかを特定しましょう。
- docker-compose.ymlファイルや`Dockerfile`などを確認し、どのファイルがどの設定を読み込んでいるかを把握します。
- もし、どのファイルからも参照されていない設定ファイルがあれば、それは不要なファイルである可能性が高いです。
# テストファイルの扱い
- テストファイルは、基本的に削除しても問題ありません。
- ただし、テストコードが全くない状態だと、後々問題が発生する可能性があるので、最低限のテストコードは残しておくことをおすすめします。
- もし、テストコードを全て削除する場合は、Reactに移行した後で改めてテストコードを書き直すことを検討してください。
# プロジェクトのエントリーポイントからたどる：`app.py`が複数個存在
- 次に、`app.py`が複数個存在している件についてですが、まずはどの`app.py`が実際にアプリケーションのエントリーポイントとして使用されているかを特定しましょう。
- Dashアプリケーションの場合、通常は1つの`app.py`がエントリーポイントとなります。
- もし、複数の`app.py`が存在する場合は、どの`app.py`が実際に実行されているかを確認し、それ以外の`app.py`は削除するか、リネームしてバックアップとして残しておくことをおすすめします。

- 多くのプロジェクトには「入口」となるファイルがあります。
  - JavaScript/TypeScript → index.js, main.ts, app.js
  - Python → main.py, __init__.py
- この入口から「どのファイルが呼ばれているか」を順に追うと、使われているファイルが分かります。
# 実際に動かしてみる
- 消去して動かなければ必要

# 要・不要判断
## 1. プロジェクトに必要かどうか
- アプリの実行に直接使われるコード (.js, .ts, .py, .java など) → 必要
- 設定ファイル (package.json, requirements.txt, pyproject.toml, .gitignore) → 必要
- ドキュメント (README.md, *.md) → 必要（学習メモや説明用）
## 2. 自動生成されたものかどうか
- node_modules/ や __pycache__/ → 自動生成されるので GitHubに置かない
- ビルド成果物 (dist/, build/, .exe, .dll) → 不要、再生成可能
## 3. 個人環境依存かどうか
- .vscode/ や .idea/ → 開発環境の設定なので 不要
- OSが作るファイル (Thumbs.db, .DS_Store) → 不要
## 4. 重複や古いファイル
- 同じ内容のコピーが複数ある場合
- 古いバージョンのバックアップ (file.old, file.bak)
