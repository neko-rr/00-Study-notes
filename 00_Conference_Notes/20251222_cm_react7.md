# クラスメソッドのReact事情大公開スペシャル#7
- [https://classmethod.connpass.com/event/376624/](https://classmethod.connpass.com/event/376624/)
- 参加日：2025年12月22日（月）
- 19:00～20:05
- 参加形態：個人参加（プライベート）
- オンライン
- ハッシュタグ：#cm_react
# 目次
- 1	19:05-19:25	フロントエンドを書けない私がVercel v0とvibecodingでなんとかやり切った話	クラスメソッド 製造ビジネステクノロジー部 田中聖也
- 2	19:25-19:45	Next.js 16の新機能 Cache Components について	クラスメソッド マッハチーム 西田将幸
- 3	19:45-20:05	楽観的UIのすすめ	クラスメソッド 製造ビジネステクノロジー部 もりしげ
# 会社紹介クラスメソッド
- Zenn運営
- マッハチーム：立ち上げ専門部隊
  - ２～３人でフルスタックでやりたい人
# フロントエンドを書けない私がVercel v0とvibecodingでなんとかやり切った話	クラスメソッド 製造ビジネステクノロジー部 田中聖也
- フロントエンド開発：0に近い
- 製造ビジネステクノロジー部：製造業向けに特化した部隊
- プロジェクトで、バック・フロント・インフラの全ての担当になった（バックとインフラ経験あり）
- 部内のインフラエンジニアに「フォルダ構成・ルーティング・API呼び出し・エラーハンドリング」は、サンプルとして作成してもらっている
- Vercel v0でレイアウトや遷移は、決まっていた
  - 工場の作業者が使用するアプリなので、要件定義段階からユーザーを含めて、一緒に決めていた
    - いきなり完成系出すと反発されるため
- 当時のV0が生成するコードの品質は良くなかった
  - V0のソースコードをmockとして生成AIに参照させる
  - 自分である程度、理解できる粒度でissueを分割すれば、「後で何にも分からん」的な事にはならないはず
- 上手くいかなかった部分
  - V0のルーティングpathを参照して異なるpathになっている
- 結論：すでに決定されたレイアウトや画面遷移があるので、「できている」・「できていない」の判断がつきやすい 
- Q&A：プロプランを使い切るほどでは無かった。無料では、無理なレベル
# Next.js 16の新機能 Cache Components について	クラスメソッド マッハチーム 西田将幸
- Cache Componentsとは？
  - 1つのページに全ユーザー共通のキャッシュしても問題ない静的な要素とユーザー名等の動的な部分を同居
  - 例：ECサイト・会員制サイト
- 今までのキャッシュ
  - fetch関数がデフォルトでキャッシュ
  - キャッシュさせたくない所は、明示的にオプトアウト
- "use cache"を宣言
  - オプトインになった
  - コンポーネント・関数・ページを指定できる
  - 動的な部分を<Suspense>で囲う
  - cacheLifeで期限を設定可能
- 感想：後半の内容理解できず
# 楽観的UIのすすめ	クラスメソッド 製造ビジネステクノロジー部 もりしげ
- ユーザーに寄り添ったUIが楽観的UI
  - Undoできる「削除」
    - 後から取り消せる：ゴミ箱・メッセージ削除
    - 先に成功させて、後から取り消せる
  - ゲームの操作
    - 当たり判定
- 新しい技術ではなくて、名前が無かっただけ
  - でも、実装は辛かった
    - 状態管理が大変
    - エラー処理が複雑
    - バグりやすい
- 楽観的UIは、「成功する前提」でUIを先に更新し、失敗時にはロールバックするという考え方
- なぜ必要か？
  - ユーザー体験の観点から
    - 体感速度の向上
    - 操作の確信：「ちゃんと押せたかな？」という不安が消える
    - 連続操作がスムーズ：特にTODOとか連続チェック
  - ※ネットワークのレイテンシーを隠すのではなくて、感じさせない
  - 有効場面：トグル操作「いいね」・追加操作「コメント」・並び替え「ドラック＆ドロップ」・削除
  - 向いていない場面：決済・重要データ
- React19：useOptimisticフック
  - 即座にUI更新：addOptimistic()呼び出し時
  - 型安全
- コード例＆体感アプリも[https://optimistic-ui-example.vercel.app/](https://optimistic-ui-example.vercel.app/)
- 逆にゆっくり見せるUIもあるので、使用場面は考えてください
